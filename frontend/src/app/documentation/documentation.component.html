<div class="container">
  <h1>API Documentation</h1>
  <div class="example-action-buttons">
  <button mat-button (click)="accordion.openAll()">Expand All</button>
  <button mat-button (click)="accordion.closeAll()">Collapse All</button>
  </div>
  <mat-accordion class="example-headers-align" multi>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/upload</h2>
      </mat-panel-title>
      <mat-panel-description>
        Upload a document to the backend
        <div class="routes">POST</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>POST</div>
      <mat-list-item>
        <div mat-line>Type: Body</div>
        <div mat-line>Parameters:
          <ul>
            <li>fileKey: Form data with file under the fileKey key.</li>
          </ul>
        </div>
        <div mat-line>Returns:
          <ul>
            <li>200: Successfully saved file</li>
            <li>400: Sent file could not be read</li>
            <li>500: Sent file could not be saved</li>
            <li>502: Sent file could not be entered into the database</li>
          </ul>
        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/changekeywords</h2>
      </mat-panel-title>
      <mat-panel-description>
        Change keywords assigned to document
        <div class="routes">PATCH</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>PATCH</div>
      <mat-list-item>
        <div mat-line>Type: Body</div>
        <div mat-line>Parameters:
          <ul>
            <li>id: id of the document to be changed</li>
            <li>keywords: Array of keywords to assign to the document</li>
          </ul>
        </div>
        <div mat-line>Returns:
          <ul>
            <li>200: Successfully updated keywords on file</li>
            <li>400: Reading of request unsuccessful</li>
            <li>502: Keywords on document could not be updated in database</li>
          </ul>
        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/documents</h2>
      </mat-panel-title>
      <mat-panel-description>
        Get documents from database
        <div class="routes">GET</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Query</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:
          <ul>
            <li>200: Array of all documents in database</li>
            <li>502: Database could not be reached</li>
          </ul>
        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/dims</h2>
      </mat-panel-title>
      <mat-panel-description>
        Handle uncategorized dimensions
        <div class="routes">GET, POST, DELETE</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Quey</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:
          <ul>
            <li>200: A list of uncategorized dimensions</li>
            <li>500: Dimensions could not be fetched</li>
          </ul>
        </div>
      </mat-list-item>
    </mat-list>
      <mat-divider></mat-divider>
      <mat-list>
        <div mat-subheader>POST</div>
        <mat-list-item>
          <div mat-line>Type: Body</div>
          <div mat-line>Parameters:
            <ul>
              <li>dim: String indicating the dimension to be added to the database</li>
            </ul>
          </div>
          <div mat-line>Returns:
            <ul>
              <li>200: Dimension succesfully added to database</li>
              <li>500: Dimension not succesfully added to database</li>
            </ul>
          </div>
        </mat-list-item>
      </mat-list>
      <mat-divider></mat-divider>
      <mat-list>
        <div mat-subheader>DELETE</div>
        <mat-list-item>
          <div mat-line>Type: Query</div>
          <div mat-line>Parameters:
            <ul>
              <li>dimension id: String indicating the dimension to be removed to the database</li>
            </ul>
          </div>
          <div mat-line>Returns:
            <ul>
              <li>200: Dimension successfully removed from database</li>
              <li>500: Dimension not successfully removed from database</li>
            </ul>
          </div>
          <div mat-line>Example (Angular):
            <pre><code> {{"
              export class DeleteExample {
                constructor(private httpClient: HttpClient) {}
                ngOnInit() {
                   this.httpClient.delete('/dims/123456');
                }
              }
            "}}</code>
            </pre>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/keys</h2>
      </mat-panel-title>
      <mat-panel-description>
        Handle uncategorized keys
        <div class="routes">GET, POST, DELETE</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Quey</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:
          <ul>
            <li>200: A list of uncategorized keys</li>
            <li>500: keys could not be fetched</li>
          </ul>
        </div>
      </mat-list-item>
    </mat-list>
      <mat-divider></mat-divider>
      <mat-list>
        <div mat-subheader>POST</div>
        <mat-list-item>
          <div mat-line>Type: Body</div>
          <div mat-line>Parameters:
            <ul>
              <li>key: String indicating the key to be added to the database</li>
            </ul>
          </div>
          <div mat-line>Returns:
            <ul>
              <li>200: key successfully added to database</li>
              <li>500: key not successfully added to database</li>
            </ul>
          </div>
          <div mat-line>Example (Angular):
            <pre><code> {{"
              export class PostExample {
                constructor(private httpClient: HttpClient) {}
                ngOnInit() {
                  const key: {
                    'key': 'my-key',
                  };
                  this.httpClient.post('/keys', key);
                }
              }
            "}}</code>
            </pre>
          </div>
        </mat-list-item>
      </mat-list>
      <mat-divider></mat-divider>
      <mat-list>
        <div mat-subheader>DELETE</div>
        <mat-list-item>
          <div mat-line>Type: Query</div>
          <div mat-line>Parameters:
            <ul>
              <li>dimension id: String indicating the dimension to be removed to the database</li>
            </ul>
          </div>
          <div mat-line>Returns:
            <ul>
              <li>200: Dimension successfully removed from database</li>
              <li>500: Dimension not successfully removed from database</li>
            </ul>
          </div>
          <div mat-line>Example (Angular):
            <pre><code> {{"
              export class DeleteExample {
                constructor(private httpClient: HttpClient) {}
                ngOnInit() {
                   this.httpClient.delete('/keys/123456');
                }
              }
            "}}</code>
            </pre>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/health</h2>
      </mat-panel-title>
      <mat-panel-description>
        Make sure the backend is running
        <div class="routes">GET</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Query</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:
          <pre><code>{{" {status: 'UP'} "}}</code></pre>
        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/stopServer</h2>
      </mat-panel-title>
      <mat-panel-description>
        Stops the backend
        <div class="routes">GET</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Query</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:

          <ul>
            <li>Success: <pre><code>{{" {success: 'True', message: 'Server is shutting down...'} "}}</code></pre></li>
            <li>Failure: <pre><code>{{" {success: 'False', message: 'Server could not be shut down'} "}}</code></pre></li>
          </ul>

        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
    <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h2>/</h2>
      </mat-panel-title>
      <mat-panel-description>
        Hello World Route
        <div class="routes">GET</div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="panel-content">
      <mat-list>
      <div mat-subheader>GET</div>
      <mat-list-item>
        <div mat-line>Type: Query</div>
        <div mat-line>Parameters:
        </div>
        <div mat-line>Returns:

          <ul>
            <li>Success: <pre><code>{{" 'Hello World' "}}</code></pre></li>
          </ul>

        </div>
      </mat-list-item>
    </mat-list>
    </div>
  </mat-expansion-panel>
  </mat-accordion>
</div>
